# Chapter 1: 도입 및 개요

> **1회차** | 1장

## 📖 핵심 내용 정리

### 책을 읽어야 하는 이유

- 운영 환경의 머신러닝 시스템에는 단순한 모델 개발보다 훨씬 더 많은 작업이 필요
- 이런 것들을 종합적으로 고려해볼 수 있는 책
- 틀을 갖추지 않은 답변 → 논리적인 흐름을 만들기 어렵다

> **논리적인 흐름의 필요조건 = 틀을 갖추고 있는 것**

---

### 7단계 프레임워크

해당 책에서 제시하는 프레임워크는 아래 단계를 따른다.

1. 요구사항 명확화
2. 머신러닝 작업으로 문제 구조화
3. 데이터 준비
4. 모델 개발
5. 평가
6. 배포 및 서비스 제공
7. 모니터링 및 인프라

---

## 1. 요구사항 명확화

> 💡 해당 단계는 요구사항에 대해 면접관과 합의하는 단계다.

시스템 설계 관련 질문은 최소한의 정보로부터 시작되는 경우가 일반적이다. 따라서 문제를 구체화 하는 것이 필요하다.

예를 들어, 아래 질문들을 통해 구체화하는 것이 좋다:

| 항목 | 질문 예시 |
|:---|:---|
| **비즈니스 목표** | 비즈니스 목표가 무엇인지? |
| **시스템 피처** | 시스템이 제공해야 하는 피처 (모델 또는 의사결정에 활용할 수 있는 피처 ex) 추천 동영상 좋아요 싫어요) |
| **데이터** | 데이터 소스와 데이터셋 규모, 데이터 라벨은 어떻게 되어 있는지? |
| **제약** | 사용할 수 있는 컴퓨팅 자원은? 클라우드 시스템 or 온디바이스? |
| **시스템 규모** | 사용자 수? 컨텐츠 규모? |
| **성능** | 기대 성능은? 실시간 솔루션? 정확도와 대기 시간 중 어느게 더 중요한지? |

---

## 2. 머신러닝 작업으로 문제 구조화

> 💡 머신러닝 목표 정의 (지표 정의), 입력 및 출력, 머신러닝 유형 (지도, 비지도, 강화학습 등)

**머신러닝 목표 정의**는 설정한 비즈니스 목표를 머신러닝 목표로 바꾸는 것이다.

- 예: 비즈니스 목표 "티켓 판매량 증가" ⇒ 머신러닝 목표 "이벤트 등록 수 극대화"

이 주제에서 다뤄야 할 것들:
- 좋은 머신러닝 목표는 무엇인가? 다른 머신러닝 목표와는 어떤 차이가 있나?
- 어떤 걸 무슨 기준으로 선택해야 하는가? (ex: recall vs precision)
- 시스템의 입력 및 출력은?
- 분류? 회귀? 출력 범위는?

---

## 3. 데이터 준비

> 💡 데이터 엔지니어링과 피처 엔지니어링을 어떻게 할 것인가?

| 항목 | 고려사항 |
|:---|:---|
| **데이터 가용성 및 수집** | 데이터 소스는 무엇이고 어떻게 수집하는지? 크기는 얼마나 되는지? |
| **데이터 저장소** | 데이터가 저장된 위치, 적합한 데이터 형식은? 멀티모달 데이터는 어디에 저장? |
| **피처 엔지니어링** | 어떻게 전처리? 누락된 데이터는? 서로 다른 유형의 feature를 어떻게 합칠 계획인지? |
| **개인정보 보호** | 익명화가 필요한 데이터인지? 기기에서만 데이터에 접근할 수 있는지? |

---

## 4. 모델 개발

> 💡 모델 선택 및 학습 방법 선택

### 모델 선택

- 작업에 적합한 머신러닝 모델은 무엇이며, 각 모델의 장단점은 무엇인지?
- 고려할 사항들: 훈련 시간, 학습 데이터 양, 자원, 추론 시간

**모델 선택 과정**
1. 간단한 모델로 빠르게 학습해서 적용해보기
2. 더 복잡한 모델로 전환
3. 더 정확한 예측을 위해 앙상블 적용

**평가 포인트**
- 각 모델의 장단점을 이해하고 있는지
- 제약 조건에 따라 모델을 선택할 수 있는 능력이 있는지

### 학습 관련

- 데이터 라벨을 얻는 방법은?
  - 자동 라벨 (사용자 피드백) vs 수동 라벨 (평가자 수동)
- 어떤 손실 함수? 불균형 어떻게 처리?
- 분산 학습은 어떻게 할건지?

### 모델 훈련 세부사항

**데이터셋 구성**
- 피처 및 라벨 식별

**수동 라벨링**
- 비용이 많이 들고, 편향이 있고, 도메인 지식이 필요하고, 프라이버시 위협

**자동 라벨링**
- 좋아요 누르면 1 아니면 0 처럼 자동으로 데이터가 쌓이는 구조일지 고려

**샘플링 전략 선택**
- 계층적 샘플링 등등

**데이터 분할**
- 학습, 검증, 테스트로 어떻게 나눌건지

**분산 학습**
- (대규모 데이터 처리 시 고려)

---

## 5. 평가

> 💡 오프라인 평가와 온라인 평가를 어떻게 할 것인가?

| 평가 유형 | 설명 |
|:---|:---|
| **오프라인 평가** | 개발 단계에서 머신러닝 모델의 성능을 평가하는 것. 적합한 오프라인 지표는 무엇인지? |
| **온라인 평가** | 배포 후 운영 환경에서의 평가. 어떤 지표를 활용해서 평가를 할 것인지? |
| **공정성 및 편향성** | 인종, 성별 등에 대해 모델이 편견을 가질 가능성이 있는지? 악의적인 의도가 있는 사람이 시스템에 접근하면 어떻게 되는지? |

---

## 6. 배포 및 서비스 제공

> 💡 클라우드 vs 온디바이스, 모델 압축, 운영 환경 테스트, 예측 파이프라인

| 항목 | 고려사항 |
|:---|:---|
| **클라우드 vs 온디바이스** | 온디바이스를 써야 하는 이유: 개인 정보 보호, 네트워크 지연 시간 |
| **모델 압축** | 모델 압축이 필요한지? |
| **운영 환경 테스트** | 배포된 모델을 운영에서 어떻게 테스트 할건지? (섀도 배포, A/B 테스트) |
| **예측 파이프라인** | 온라인 예측 vs 배치 예측 |

---

## 7. 모니터링

> 💡 운영 관련 지표와 머신러닝 관련 지표에 대해 어떤 것들을 관측해야 하는지

### 운영 관련 지표
- 평균 처리 시간
- 처리량
- 예측 요청 수
- GPU 사용률 등

### 머신러닝 관련 지표

| 지표 | 설명 |
|:---|:---|
| **입력/출력 모니터링** | - |
| **드리프트** | 모델의 입출력 관찰하여 감지 |
| **모델 정확도** | 특정 범위의 정확도를 벗어나는지? |
| **모델 버전** | - |

### 운영 환경 테스트

- 섀도 배포
- A/B 테스트

### 예측 파이프라인

- 배치 예측 vs 온라인 예측
